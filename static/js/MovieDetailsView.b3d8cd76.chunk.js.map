{"version":3,"file":"static/js/MovieDetailsView.b3d8cd76.chunk.js","mappings":"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","sources":["services/API.js","webpack://goit-react-hw-05-movies/./src/views/MovieDetailsView/MovieDetailsView.module.scss?0972","views/MovieDetailsView/MovieDetailsView.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '33bcb89e36b34d36b896a35a11214f25';\n\nasync function getMovies(url) {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(response.status));\n}\n\nexport function fetchTrendingMovies(page) {\n  return getMovies(\n    `${BASE_URL}/trending/movie/week?api_key=${API_KEY}&page=${page}`\n  );\n}\n\nexport function fetchMoviesByID(id) {\n  return getMovies(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n}\n\nexport function fetchMoviesByQuery(query, page) {\n  return getMovies(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`\n  );\n}\n\nexport function fetchCredits(id) {\n  return getMovies(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n}\n\nexport function fetchReviews(id) {\n  return getMovies(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapItem\":\"MovieDetailsView_wrapItem__ZpS6H\",\"button\":\"MovieDetailsView_button__9+a3-\",\"image\":\"MovieDetailsView_image__+4PhW\",\"wrapText\":\"MovieDetailsView_wrapText__eY3L1\",\"title\":\"MovieDetailsView_title__iKoIj\",\"wrapRating\":\"MovieDetailsView_wrapRating__IwCUL\",\"genre\":\"MovieDetailsView_genre__VpEAx\",\"description\":\"MovieDetailsView_description__PcDA+\",\"rating\":\"MovieDetailsView_rating__HeKWY\",\"icon\":\"MovieDetailsView_icon__zKMtG\",\"subtitle\":\"MovieDetailsView_subtitle__WmR8c\",\"wrapInformation\":\"MovieDetailsView_wrapInformation__LUFkX\",\"link\":\"MovieDetailsView_link__8aj5k\",\"activeLink\":\"MovieDetailsView_activeLink__5ZKwf MovieDetailsView_link__8aj5k\"};","import { useState, useEffect, Suspense, lazy } from 'react';\nimport {\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n  useParams,\n  useNavigate,\n} from 'react-router-dom';\nimport { FaStar } from 'react-icons/fa';\nimport { IoCaretBackOutline } from 'react-icons/io5';\nimport { fetchMoviesByID } from 'services/API';\nimport s from './MovieDetailsView.module.scss';\nconst Reviews = lazy(() =>\n  import('views/Reviews' /* webpackChunkName: \"Reviews\" */)\n);\nconst Cast = lazy(() => import('views/Cast' /* webpackChunkName: \"Cast\" */));\n\nconst MovieDetailsView = () => {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchMoviesByID(movieId).then(setMovie);\n  }, [movieId]);\n\n  const onGoBack = () => {\n    navigate(location?.state?.from || '/');\n  };\n\n  return (\n    movie && (\n      <>\n        <button type=\"button\" onClick={onGoBack} className={s.button}>\n          <IoCaretBackOutline className={s.icon} />\n          Back\n        </button>\n        <div className={s.wrapItem}>\n          <img\n            className={s.image}\n            src={\n              movie.poster_path\n                ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNW08SIItZE3jSbsda_zoxn1T3jQpelOe4tQ&usqp=CAU'\n            }\n            alt={movie.title}\n          />\n          <div className={s.wrapText}>\n            <span className={s.title}>{movie.title}</span>\n            <div className={s.wrapRating}>\n              <span className={s.genre}>\n                {movie.genres.map(({ name }) => name).join(', ')}\n              </span>\n              <span className={s.rating}>\n                <FaStar className={s.icon} />\n                {movie.vote_average}\n              </span>\n            </div>\n            <p className={s.description}>{movie.overview}</p>\n          </div>\n        </div>\n        <div>\n          <div className={s.subtitle}>Additional information</div>\n          <ul className={s.wrapInformation}>\n            <li>\n              <NavLink\n                to=\"cast\"\n                state={{ from: location?.state?.from }}\n                className={({ isActive }) =>\n                  isActive ? `${s.activeLink}` : `${s.link}`\n                }\n              >\n                <span>Cast</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to=\"reviews\"\n                state={{ from: location?.state?.from }}\n                className={({ isActive }) =>\n                  isActive ? `${s.activeLink}` : `${s.link}`\n                }\n              >\n                <span>Reviews</span>\n              </NavLink>\n            </li>\n          </ul>\n\n          {\n            <Suspense\n              fallback={\n                <p\n                  style={{\n                    textAlign: 'center',\n                    marginTop: '25px',\n                    fontWeight: '700',\n                  }}\n                >\n                  Loading...\n                </p>\n              }\n            >\n              <Routes>\n                <Route path=\"cast\" element={<Cast movieId={movieId} />} />\n                <Route path=\"reviews\" element={<Reviews movieId={movieId} />} />\n              </Routes>\n            </Suspense>\n          }\n        </div>\n      </>\n    )\n  );\n};\n\nexport default MovieDetailsView;\n"],"names":["BASE_URL","API_KEY","getMovies","url","fetch","response","ok","json","Promise","reject","Error","status","fetchTrendingMovies","page","fetchMoviesByID","id","fetchMoviesByQuery","query","fetchCredits","fetchReviews","Reviews","lazy","Cast","useState","movie","setMovie","movieId","useParams","location","useLocation","navigate","useNavigate","useEffect","then","type","onClick","state","from","className","s","src","poster_path","alt","title","genres","map","name","join","vote_average","overview","to","isActive","Suspense","fallback","style","textAlign","marginTop","fontWeight","path","element"],"sourceRoot":""}